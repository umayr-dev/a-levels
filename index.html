<!DOCTYPE html>
<html lang="uz">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Barno Suleymanova</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Bebas Neue', Bebas, sans-serif; }
  </style>
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/modal.css" media="all">
</head>
<body>
  <div class="mobile-event-header">
    <div class="mobile-event-container">
      <div class="mobile-event-info">
        <img decoding="async" src="img/calendar.svg" alt="calendar" loading="lazy">
        <p class="mobile-event-date">25-26-Fevral</p>
      </div>
      <p class="mobile-event-time">20:00</p>
    </div>
  </div>
  <section class="mobile-main-content">
    <div class="mobile-content-wrapper">
      <h1 class="mobile-main-title">
        <span>2 kunda Rus tilida 0 dan gapirish</span> qadamlarini BEPUL o'rganing
      </h1>
      <div class="mobile-content-img">
        <div class="mobile-hero-shadow"></div>
        <img src="img/speaker.svg" data-src="img/speaker.svg" alt="Muxtasar" decoding="async" loading="lazy" class="mobile-hero-image" width="261" height="427">
        <button type="button" class="mobile-cta-button registerBtn">&gt;&gt;&gt; Bepul Qatnashish &lt;&lt;&lt;</button>
      </div>
      <div class="mobile-masterclass-info">
        <h2 class="mobile-masterclass-title">Bepul darsda siz:</h2>
        <ul class="mobile-benefits-list">
          <li class="mobile-benefit-item">
            <img decoding="async" src="img/verify.svg" width="32" height="32" alt="verify" loading="lazy">
            <p class="mobile-benefit-text">So'z yodlamasdan <span>qisqa vaqt</span>da natijaga chiqishni bilib olasiz</p>
          </li>
          <li class="mobile-benefit-item">
            <img decoding="async" src="img/verify.svg" width="32" height="32" alt="verify" loading="lazy">
            <p class="mobile-benefit-text">Rus tili grammatikasi va erkin muloqot qilish <span>sirlarini</span> o'rganasiz</p>
          </li>
          <li class="mobile-benefit-item">
            <img decoding="async" src="img/verify.svg" width="32" height="32" alt="verify" loading="lazy">
            <p class="mobile-benefit-text">Rus tilini noldan o'rganishning ishlaydigan <span>strategiyalarini</span> o'rganasiz</p>
          </li>
        </ul>
      </div>
      <button type="button" class="mobile-cta-button registerBtn">&gt;&gt;&gt; Bepul Qatnashish &lt;&lt;&lt;</button>
    </div>
  </section>

  <div id="registrationModal" class="homeModal" style="display: none">
    <div class="homeModalOverlay"></div>
    <div class="homeFormContainer">
      <button type="button" class="closeButton" id="closeModalBtn">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 12 12" fill="none">
          <path d="M1 11L11 1M1 1.00001L11 11" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path>
        </svg>
      </button>
      <div class="homeFormTop">
        <h1 class="homeFormTopTitle">Bepul qatnashish uchun ma'lumotlaringizni kiriting!</h1>
      </div>
      <form id="registrationForm" name="contact-form">
        <div class="HomeFormRow">
          <label class="HomeFormRowLabel" for="phone">Telefon raqamingiz:</label>
          <div class="phone-input-container">
            <button type="button" class="selected-country" id="selectedCountry">
              <svg id="dropdownIcon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg>
              <span class="selected-code" id="selectedCountryCodeText">+998</span>
            </button>
            <div class="country-dropdown" id="countryDropdown" style="display:none"></div>
            <div class="phone-field">
              <input class="HomeFormRowInput phone-input" type="tel" id="phone" name="phone" inputmode="numeric" placeholder="88 888 88 88" autocomplete="tel" maxlength="12">
            </div>
          </div>
          <p class="homeFormErrorText" id="phoneError" style="display:none">❌ Telefon raqam mos emas!</p>
        </div>
        <button type="submit" class="HomeFormBtn" id="submitBtn">DAVOM ETISH</button>
      </form>
    </div>
  </div>

  <script>
    (function () {
      var modal = document.getElementById('registrationModal');
      var openBtns = document.querySelectorAll('.registerBtn');
      var closeBtn = document.getElementById('closeModalBtn');
      var overlay = modal && modal.querySelector('.homeModalOverlay');
      var form = document.getElementById('registrationForm');
      var phoneInput = document.getElementById('phone');
      var phoneError = document.getElementById('phoneError');

      function openModal() {
        if (!modal) return;
        modal.style.display = 'flex';
        modal.setAttribute('aria-hidden', 'false');
        document.body.style.overflow = 'hidden';
        if (phoneInput) phoneInput.focus();
      }
      function closeModal() {
        if (!modal) return;
        modal.style.display = 'none';
        modal.setAttribute('aria-hidden', 'true');
        document.body.style.overflow = '';
      }
      function showPhoneError(show) {
        if (!phoneError) return;
        phoneError.style.display = show ? 'block' : 'none';
        if (show) phoneError.textContent = '❌ Telefon raqam mos emas!';
      }

      if (openBtns.length) { for (var i = 0; i < openBtns.length; i++) { openBtns[i].addEventListener('click', openModal); } }
      if (closeBtn) closeBtn.addEventListener('click', closeModal);
      if (overlay) overlay.addEventListener('click', closeModal);

      if (form && phoneInput) {
        function formatPhone(val) {
          var d = (val || '').replace(/\D/g, '');
          if (d.length <= 2) return d;
          if (d.length <= 5) return d.slice(0,2) + ' ' + d.slice(2);
          return d.slice(0,2) + ' ' + d.slice(2,5) + ' ' + d.slice(5,7) + ' ' + d.slice(7,9);
        }
        phoneInput.addEventListener('input', function () {
          this.value = formatPhone(this.value);
          showPhoneError(false);
        });
        form.addEventListener('submit', function (e) {
          e.preventDefault();
          var raw = (phoneInput.value || '').replace(/\D/g, '');
          var valid = raw.length >= 9 && (/^(90|91|93|94|97|88|99|33)/.test(raw));
          if (!valid) {
            showPhoneError(true);
            return;
          }
          showPhoneError(false);
          closeModal();
        });
      }

      var img = document.querySelector('.mobile-hero-image');
      if (img && img.getAttribute('data-src')) {
        var bigSrc = img.getAttribute('data-src');
        var highRes = new Image();
        highRes.src = bigSrc;
        highRes.onload = function () {
          img.src = bigSrc;
          img.classList.remove('blur-up');
        };
      }
    })();
  </script>
</body>
</html>
